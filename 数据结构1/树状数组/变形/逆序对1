#include <bits/stdc++.h>
using namespace std;

using i64 =long long;
constexpr int mxn=5e5+5;

int n;
struct BIT {
    int c[mxn];

    int lowbit(int x) {
        return x&-x;
    }

    void update(int x,int k) {
        while (x<=n) {
            c[x]+=k;
            x+=lowbit(x);
        }
    }

    int query(int x) {
        int ans=0;
        while (x) {
            ans+=c[x];
            x-=lowbit(x);
        }
        return ans;
    }

}t;

void solve() {
    cin>>n;
    vector<int> a(n+1),b(n+1);
    for (int i=1;i<=n;i++) {
        cin>>a[i];
        b[i]=a[i];
    }

    //开始离散化
    i64 ans=0;
    sort(b.begin()+1,b.end());
    unique (b.begin()+1,b.end());
    for (int i=n;i>=1;i--) {//便索引，逆序
        a[i]=lower_bound(b.begin()+1,b.end(),a[i])-b.begin();//别再-1了，否则min的索引会变0
        ans+=t.query(a[i]-1);
        t.update(a[i],1);
    }

    cout<<ans<<'\n';
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    int t=1;
    cin >> t;
    while(t--) {
        solve();
    }
    return 0;
}
